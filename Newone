@RestController
@RequestMapping("/api")
public class TokenController {

    @Autowired
    private TokenService tokenService;

    @PostMapping("/token")
    public ResponseEntity<String> getToken(@RequestBody LoginRequest loginRequest) {
        // Authenticate the user (e.g., check credentials against a database)
        if (authenticateUser(loginRequest.getUsername(), loginRequest.getPassword())) {
            String token = tokenService.generateToken(loginRequest.getUsername());
            return ResponseEntity.ok(token);
        } else {
            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
        }
    }

    private boolean authenticateUser(String username, String password) {
        // Implement your authentication logic here (e.g., database lookup)
        return true; // Replace with actual authentication
    }
}
