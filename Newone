@Service
public class SsoMemberService {

    @Autowired
    private SsoMemberLookupRepository repository;

    /**
     * Checks if the provided email is valid for a given member base.
     */
    public Boolean emailIdDomain(String email) {
        // Validate email input
        if (email == null || !email.contains("@")) {
            return false;
        }

        // Extract email domain
        String emailDomain = email.split("@")[1];

        // Define the member base
        String memberBase = "BP03080011 COMMI";

        // Check if the email domain exists for the given member base
        return repository.existsByEmailDomainAndMemberBase(emailDomain, memberBase);
    }
}
